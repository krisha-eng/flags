[{"C:\\Users\\kenginee\\React Projects\\flags\\src\\index.js":"1","C:\\Users\\kenginee\\React Projects\\flags\\src\\reportWebVitals.js":"2","C:\\Users\\kenginee\\React Projects\\flags\\src\\App.js":"3"},{"size":500,"mtime":499162500000,"results":"4","hashOfConfig":"5"},{"size":362,"mtime":499162500000,"results":"6","hashOfConfig":"5"},{"size":4247,"mtime":1626335162546,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"1sn0cx2",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16","usedDeprecatedRules":"10"},"C:\\Users\\kenginee\\React Projects\\flags\\src\\index.js",[],["17","18"],"C:\\Users\\kenginee\\React Projects\\flags\\src\\reportWebVitals.js",[],["19","20"],"C:\\Users\\kenginee\\React Projects\\flags\\src\\App.js",["21","22"],"// import logo from './logo.svg';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport Tippy from '@tippyjs/react';\nimport 'tippy.js/dist/tippy.css'; // optional\nimport 'tippy.js/animations/scale-subtle.css';\nimport 'tippy.js/themes/translucent.css';\nimport './App.css';\n\n// var filterList = [];\n\nfunction App() {\n\n  const [Items, setItems] = useState([]);\n  const [filterList, setfilterList] = useState([]);\n  const [Country, setCountry] = useState(\"\");\n  const [Capital, setCapital] = useState(\"\");\n  const [Currency, setCurrency] = useState(\"\");\n  const [Language, setLanguage] = useState(\"\");\n  const [SearchString, setSearchString] = useState(\"\");\n\n\n  useEffect(() => {\n    console.log(\"INSIDE USEEFFECT\");\n    fetch(\"https://restcountries.eu/rest/v2/all\")\n      .then(response => response.json())\n      .then(data =>\n        setItems(data) //Changes state\n        // console.log(data)\n      );\n  }, []);\n\n  function onMouseOverHandler(item) {\n    console.log(item);\n    setCountry(item.name);\n    setCapital(item.capital);\n    setCurrency(item.currencies[0].name);\n    setLanguage(item.languages[0].name);\n  }\n\n  useEffect(() => {\n    setfilterList(Items.filter(checkSubStringMatch));\n  }, [SearchString, Items]);\n\n  // If I dont add Items, initially it gives No Data. Data appears only on Search. After adding Items we get data initially as well. Weird.\n  // Found a possible explanation to this. \n  // Initially on first render, Items is empty. Both UseEffects on first render are called. But the filterList useEffect doesn't have Item data on the first time, so the filterList array stays empty and only pops up data when we fill the Search String. This is when Items is not added as 2nd parameter to this useEffect. Now we add Items to it. So now on 1st render Items fills with data and as soon as that happens, the Filter useEffect again causes Re-render - now with full Items data and SearchString as \"\". Note that str.includes(\"\") returns true and hence we get full data.\n\n  function checkSubStringMatch(item) {\n    return item.name.toLowerCase().includes(SearchString.toLowerCase());\n  }\n\n\n\n  return (\n    <div className=\"App\">\n      <h1>Flags and Countries</h1>\n      <p><mark>&nbsp;Hover over icons or search for a country.&nbsp;</mark></p>\n\n      <div id=\"searchWrapper\">\n        <input\n          type=\"text\"\n          name=\"searchBar\"\n          onChange={(event) => setSearchString(event.target.value)}\n          id=\"searchBar\"\n          placeholder=\"Search for a country\"\n        />\n      </div>\n\n      <div id=\"flag-container\">\n        {(filterList.map((item) =>\n          <Tippy\n            animation=\"scale-subtle\"\n            theme=\"translucent\"\n            content={<span>\n              <strong>Country</strong>: {Country}<br />\n              <strong>Capital</strong>: {Capital}<br />\n              <strong>Currency</strong>: {Currency}<br />\n              <strong>Language</strong>: {Language}\n            </span>}>\n            <img\n              className=\"grow\"\n              src={item.flag}\n              onMouseOver={() => onMouseOverHandler(item)}\n            />\n          </Tippy>\n        ))}\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n\n\n\n// We can't add Event Listener like below in React, Also getElementbyId wont work correctly\n//   this.searchBar.addEventListener('keyup', (e) => {\n//     const searchString = e.target.value.toLowerCase();\n//     const filteredCharacters = Items.filter((character) => {\n//         return (\"\"\n//             // character.name.toLowerCase().includes(searchString) ||\n//             // character.house.toLowerCase().includes(searchString)\n//         );\n//     });\n//     // displayCharacters(filteredCharacters);\n// });\n\n\n// This way str is not accessible in filter, so we store it in a state var\n// function onSearchChangeHandler(evt) {\n//   var str = evt.target.value;\n//   console.log(str);\n//   Items.filter(checkSubStringMatch);\n// }\n\n\n// Need to store it in a variable, otherwise won't evaluate, filter method returns a new Filtered array\n  // This snippet runs on every render\n  // const filterList = Items.filter(checkSubStringMatch);\n\n  // const searchBar = document.getElementById('searchBar');\n  // this.searchBar = React.createRef();",{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"23","replacedBy":"27"},{"ruleId":"25","replacedBy":"28"},{"ruleId":"29","severity":1,"message":"30","line":43,"column":6,"nodeType":"31","endLine":43,"endColumn":27,"suggestions":"32"},{"ruleId":"33","severity":1,"message":"34","line":81,"column":13,"nodeType":"35","endLine":85,"endColumn":15},"no-native-reassign",["36"],"no-negated-in-lhs",["37"],["36"],["37"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkSubStringMatch'. Either include it or remove the dependency array.","ArrayExpression",["38"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"39","fix":"40"},"Update the dependencies array to be: [SearchString, Items, checkSubStringMatch]",{"range":"41","text":"42"},[1222,1243],"[SearchString, Items, checkSubStringMatch]"]